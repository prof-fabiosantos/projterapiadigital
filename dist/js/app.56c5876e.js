(function(){"use strict";var e={5878:function(e,t,o){var n=o(9242),a=o(3396),i=o.p+"img/logo.47830bb6.png";const s=(0,a._)("img",{alt:"Vue logo",src:i},null,-1);function r(e,t,o,n,i,r){const c=(0,a.up)("TerapiaDigital");return(0,a.wg)(),(0,a.iD)(a.HY,null,[s,(0,a.Wm)(c,{msg:"Welcome to Terapia Digital App"})],64)}var c=o(7139);const p=e=>((0,a.dD)("data-v-312ba756"),e=e(),(0,a.Cn)(),e),u={class:"support-container"},l=p((()=>(0,a._)("h1",{class:"support-heading"},"Como você está se sentindo hoje?",-1))),f={class:"support-input"},m={class:"support-message"};function d(e,t,o,i,s,r){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",null,(0,c.zw)(e.msg),1),(0,a._)("div",u,[l,(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.sentimento=e),type:"text",placeholder:"Digite aqui"},null,512),[[n.nr,s.sentimento]]),(0,a._)("button",{onClick:t[1]||(t[1]=e=>r.enviarSentimento())},"Enviar")]),(0,a._)("p",null,(0,c.zw)(s.status),1),(0,a._)("p",m,(0,c.zw)(s.mensagem),1)])],64)}var h=o(4161),g=o(7795),y={apiKey:"AIzaSyDfND4jTbo2FyfcCVg2phUqGY45euNuQdU",authDomain:"sysaut-581a8.firebaseapp.com",projectId:"sysaut-581a8",storageBucket:"sysaut-581a8.appspot.com",messagingSenderId:"281534621983",appId:"1:281534621983:web:e98f707ff6124fa9aca82a",measurementId:"G-BH2N1785B3"};const v=(0,g.ZF)(y);var w=v,b=o(36);const A=(0,b.ad)(w);var _={data(){return{apiKey:"",sentimento:"",mensagem:"",prompt:"Ouvi dizer que você é capaz de ornecer um suporte emocional, vou descrever como estou me sentindo?",status:""}},mounted(){this.getKey()},methods:{async getKey(){const e=(0,b.IO)((0,b.hJ)(A,"Key")),t=await(0,b.PL)(e);t.forEach((e=>{this.apiKey=e.data().key})),this.contextualizarChatGpt()},async enviarSentimento(){console.log("apiKey:"+this.apiKey),this.status="AGUARDE A RESPOSTA";try{const e=await h.Z.post("https://api.openai.com/v1/completions",{model:"text-davinci-003",prompt:this.sentimento,max_tokens:2825,user:"1",stop:["#",";"],temperature:.9,presence_penalty:0,frequency_penalty:0},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}});if(200===e.status){this.status="";const t=e.data.choices[0].text.trim();this.mensagem=t;const o=window.speechSynthesis,n=new SpeechSynthesisUtterance(this.mensagem);n.voice=o.getVoices().find((e=>"Microsoft Maria - Portuguese (Brazil)"===e.name)),o.speak(n),console.log(o.getVoices())}else console.log("Erro ao acessar a API do OpenAI"),console.log(e)}catch(e){console.error("Erro ao fazer a solicitação para a API do OpenAI",e)}},async contextualizarChatGpt(){console.log("apiKey:"+this.apiKey);try{const e=await h.Z.post("https://api.openai.com/v1/completions",{model:"text-davinci-003",prompt:this.prompt,max_tokens:1825,user:"1",stop:["#",";"],temperature:.9,presence_penalty:0,frequency_penalty:0},{headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`}});if(200===e.status){const t=e.data.choices[0].text.trim();let o=t,n=o.replace(/^[CcSs][\w\s]*[.,]?\s*/,"");this.mensagem=n,console.log("Contextualizacao do ChatGPT:"+n);const a=window.speechSynthesis,i=new SpeechSynthesisUtterance(n);i.voice=a.getVoices().find((e=>"Microsoft Maria - Portuguese (Brazil)"===e.name)),a.speak(i),console.log(a.getVoices())}else console.log("Erro ao acessar a API do OpenAI"),console.log(e)}catch(e){console.error("Erro ao fazer a solicitação para a API do OpenAI",e)}}}},O=o(89);const z=(0,O.Z)(_,[["render",d],["__scopeId","data-v-312ba756"]]);var I=z,x={name:"App",components:{TerapiaDigital:I}};const j=(0,O.Z)(x,[["render",r]]);var C=j;(0,n.ri)(C).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,i){if(!n){var s=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var r=!0,c=0;c<n.length;c++)(!1&i||s>=i)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(r=!1,i<s&&(s=i));if(r){e.splice(u--,1);var p=a();void 0!==p&&(t=p)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.p="/"}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,s=n[0],r=n[1],c=n[2],p=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)o.o(r,a)&&(o.m[a]=r[a]);if(c)var u=c(o)}for(t&&t(n);p<s.length;p++)i=s[p],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(u)},n=self["webpackChunkterapiadigital"]=self["webpackChunkterapiadigital"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(5878)}));n=o.O(n)})();
//# sourceMappingURL=app.56c5876e.js.map